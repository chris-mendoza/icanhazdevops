icanhazdevops
=============
Chris Mendoza

Deploy Apache Node with custom index.html

The following gems are required on your workstation to use this cookbook:
chef
knife-rackspace
berkshelf

Installs:
  curl
  git
  libxml2-dev
  libxslt-dev
  ruby(via rbenv)
    gems: fog
  screen

Creates index.html that is generated by template/default/index.html.erb

Keep in mind that the cookbook used in this example is for apache 2.2.
(I.E. this will not work with Ubuntu 14.04, because it comes with
  apache 2.4 by default.)

How to create a server with this cookbook

Clone my cookbook:

git clone git@github.com:chris-mendoza/icanhazdevops.git

Upload it to your chef server(Considering you have your knife.rb set up):

cd icanhazdevops
berks upload

Create a role in Chef:

knife role create icanhazdevops

This next command will open a text editor. If you have not set one to default, 
do so with the command: export EDITOR='vim'

Make sure you save your changes to an external editor before commiting them.
If your changes are wrong, they will be deleted by chef :(

Edit icanhazdevops, and add the cookbook to the run list:

knife role edit icanhazdevops

Example Role:
<code>
 {
  "name": "icanhazdevops",
  "description": "",
  "json_class": "Chef::Role",
  "default_attributes": {
  },
  "override_attributes": {
  },
  "chef_type": "role",
  "run_list": [
    "recipe[icanhazdevops]"
  ],
  "env_run_lists": {
  }
</code>

Use this command to create servers with the web server role:
knife rackspace server create -I 255df5fb-e3d4-45a3-9a07-c976debf7c14 -f 2 -r 'role[icanhazdevops]'

This command creates servers with a unique host name, so you may use it to
create more than one web server.
